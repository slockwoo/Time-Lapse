<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Time-lapse: /home/shane/Documents/ECEN5623/stream_mjpeg/capture.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Time-lapse
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_f396504afdc959660871b003fa10164d.html">Documents</a></li><li class="navelem"><a class="el" href="dir_15f37b91b9d8b13f9ff0d17957dbb176.html">ECEN5623</a></li><li class="navelem"><a class="el" href="dir_2110ef3c4094e7b8a68f37b5f7d1103d.html">stream_mjpeg</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">capture.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;linux/videodev2.h&gt;</code><br />
<code>#include &lt;semaphore.h&gt;</code><br />
<code>#include &lt;mqueue.h&gt;</code><br />
<code>#include &lt;sys/ioctl.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;sys/mman.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;zlib.h&gt;</code><br />
<code>#include &lt;sys/utsname.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;poll.h&gt;</code><br />
<code>#include &lt;curl/curl.h&gt;</code><br />
<code>#include &lt;jpeglib.h&gt;</code><br />
<code>#include &lt;turbojpeg.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_camera_buffer.html">CameraBuffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_frame.html">Frame</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_frame_buffer.html">FrameBuffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_time.html">Time</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78224efe1d3fb39b67ca74ad9d9eec7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ad78224efe1d3fb39b67ca74ad9d9eec7">STRING_SIZE</a>&#160;&#160;&#160;127</td></tr>
<tr class="separator:ad78224efe1d3fb39b67ca74ad9d9eec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac22294062281e189fcea62e6c038bcd5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ac22294062281e189fcea62e6c038bcd5">CAMERA_MQ</a>&#160;&#160;&#160;&quot;/camera_mq&quot;</td></tr>
<tr class="separator:ac22294062281e189fcea62e6c038bcd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf53becdaa56563ee33761cacc253c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#addf53becdaa56563ee33761cacc253c7">COMPRESSION_MQ</a>&#160;&#160;&#160;&quot;/compression_mq&quot;</td></tr>
<tr class="separator:addf53becdaa56563ee33761cacc253c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4adfa3d60064f781cf2f5a271d6c8c40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a4adfa3d60064f781cf2f5a271d6c8c40">NSEC_IN_SEC</a>&#160;&#160;&#160;1000000000</td></tr>
<tr class="separator:a4adfa3d60064f781cf2f5a271d6c8c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d025ecf1bdbf8b244ca688df8e478d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ad4d025ecf1bdbf8b244ca688df8e478d">MSG_SIZE</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:ad4d025ecf1bdbf8b244ca688df8e478d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49999be01380f41cc0d0f1f1406fb277"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a49999be01380f41cc0d0f1f1406fb277">HEADER_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a49999be01380f41cc0d0f1f1406fb277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c50d3846497846a911b85d45e3d04e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a95c50d3846497846a911b85d45e3d04e">TARGET_ADDRESS</a>&#160;&#160;&#160;&quot;192.168.137.2/Documents/ECEN5623/stream_mjpeg/frames/&quot;</td></tr>
<tr class="separator:a95c50d3846497846a911b85d45e3d04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ede9854fe9cd60ed6b81cad3544aea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a78ede9854fe9cd60ed6b81cad3544aea">CREDENTIALS</a>&#160;&#160;&#160;&quot;shane:Go0b3r@#&quot;</td></tr>
<tr class="separator:a78ede9854fe9cd60ed6b81cad3544aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab16d068bb0d54defca3c290094b87ffe"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_camera_buffer.html">CameraBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ab16d068bb0d54defca3c290094b87ffe">camera_buffer</a></td></tr>
<tr class="separator:ab16d068bb0d54defca3c290094b87ffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc626bae09d8b18b8d64b4ce2378b25"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_frame_buffer.html">FrameBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#abdc626bae09d8b18b8d64b4ce2378b25">frame_buffer</a></td></tr>
<tr class="separator:abdc626bae09d8b18b8d64b4ce2378b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a41bba785d34bc81a7ad6aeecd94b8bb0"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a41bba785d34bc81a7ad6aeecd94b8bb0">time_diff</a> (struct timespec *start, struct timespec *stop, struct timespec *diff)</td></tr>
<tr class="separator:a41bba785d34bc81a7ad6aeecd94b8bb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a35ba6ce40b8eb379e2b735a3d0379"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a52a35ba6ce40b8eb379e2b735a3d0379">timespec_to_long_long</a> (struct timespec *t)</td></tr>
<tr class="separator:a52a35ba6ce40b8eb379e2b735a3d0379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ce4843c5fd76c3415c5b8640f5b97a"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a46ce4843c5fd76c3415c5b8640f5b97a">timeval_to_long_long</a> (struct timeval *t)</td></tr>
<tr class="separator:a46ce4843c5fd76c3415c5b8640f5b97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f28327c3bd4a61eb3959865eb68317c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a5f28327c3bd4a61eb3959865eb68317c">long_long_to_timespec</a> (struct timespec *t, long long nanoseconds)</td></tr>
<tr class="separator:a5f28327c3bd4a61eb3959865eb68317c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a442c1e1a90daa0618ee1c803ef3c60ce"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a442c1e1a90daa0618ee1c803ef3c60ce">save_image</a> (unsigned int index, unsigned int frame)</td></tr>
<tr class="separator:a442c1e1a90daa0618ee1c803ef3c60ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab51ed05532bf584305de989c51a574af"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ab51ed05532bf584305de989c51a574af">embed_ppm_header</a> (unsigned int index)</td></tr>
<tr class="separator:ab51ed05532bf584305de989c51a574af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e1ba0bf7926a862b54d8badf3ee5fe3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a0e1ba0bf7926a862b54d8badf3ee5fe3">init_source</a> (j_decompress_ptr <a class="el" href="capture_8c.html#a93c39dd8f38d37bfb5197af63d28afb8">cinfo</a>)</td></tr>
<tr class="separator:a0e1ba0bf7926a862b54d8badf3ee5fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e7dac8e97284ad57746880a222c5caf"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a1e7dac8e97284ad57746880a222c5caf">fill_input_buffer</a> (j_decompress_ptr <a class="el" href="capture_8c.html#a93c39dd8f38d37bfb5197af63d28afb8">cinfo</a>)</td></tr>
<tr class="separator:a1e7dac8e97284ad57746880a222c5caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173e37c81dff86846622bbba3832c4dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a173e37c81dff86846622bbba3832c4dd">skip_input_data</a> (j_decompress_ptr <a class="el" href="capture_8c.html#a93c39dd8f38d37bfb5197af63d28afb8">cinfo</a>, long num_bytes)</td></tr>
<tr class="separator:a173e37c81dff86846622bbba3832c4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded7efcd42714e07121345ae6a261b76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#aded7efcd42714e07121345ae6a261b76">term_source</a> (j_decompress_ptr <a class="el" href="capture_8c.html#a93c39dd8f38d37bfb5197af63d28afb8">cinfo</a>)</td></tr>
<tr class="separator:aded7efcd42714e07121345ae6a261b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeefb57de25092bb60f9ccabaf9372241"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#aeefb57de25092bb60f9ccabaf9372241">emit_message</a> (j_common_ptr <a class="el" href="capture_8c.html#a93c39dd8f38d37bfb5197af63d28afb8">cinfo</a>, int msg_level)</td></tr>
<tr class="separator:aeefb57de25092bb60f9ccabaf9372241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ecce70cf98efa515bdfa41e419c5c62"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a6ecce70cf98efa515bdfa41e419c5c62">accept_options</a> (int argc, char **argv)</td></tr>
<tr class="separator:a6ecce70cf98efa515bdfa41e419c5c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03aede8ff91764482bb5e9accfae9b4f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a03aede8ff91764482bb5e9accfae9b4f">initialize</a> ()</td></tr>
<tr class="separator:a03aede8ff91764482bb5e9accfae9b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a618a0034ba575b16e075bb8f0a51520d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a618a0034ba575b16e075bb8f0a51520d">acquire_frames</a> (void *args)</td></tr>
<tr class="separator:a618a0034ba575b16e075bb8f0a51520d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe391888422795a03d5b3e115d27c557"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#afe391888422795a03d5b3e115d27c557">embed_ppm_data</a> (void *args)</td></tr>
<tr class="separator:afe391888422795a03d5b3e115d27c557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4476e9b27322e8b7942f5da02dce61"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a1e4476e9b27322e8b7942f5da02dce61">compress_frames</a> (void *args)</td></tr>
<tr class="separator:a1e4476e9b27322e8b7942f5da02dce61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade93a5e49f52392c02bbba1765257412"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ade93a5e49f52392c02bbba1765257412">sequencer</a> (void *args)</td></tr>
<tr class="separator:ade93a5e49f52392c02bbba1765257412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a019a617c77711197565c38498c73e035"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a019a617c77711197565c38498c73e035">create_threads</a> ()</td></tr>
<tr class="separator:a019a617c77711197565c38498c73e035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad67893ff65f0ce0e0c3d247318e68aa6"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ad67893ff65f0ce0e0c3d247318e68aa6">finish</a> ()</td></tr>
<tr class="separator:ad67893ff65f0ce0e0c3d247318e68aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a167e25be68dd153043338fea9682c8c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="capture_8c.html#ab16d068bb0d54defca3c290094b87ffe">camera_buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a167e25be68dd153043338fea9682c8c7">buffered_camera</a></td></tr>
<tr class="separator:a167e25be68dd153043338fea9682c8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf2a42a2574cf156950eb20aa57d3f89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="capture_8c.html#abdc626bae09d8b18b8d64b4ce2378b25">frame_buffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#acf2a42a2574cf156950eb20aa57d3f89">buffered_frame</a></td></tr>
<tr class="separator:acf2a42a2574cf156950eb20aa57d3f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a014d2ca57f026c2d8877e1e35d660136"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_time.html">Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a014d2ca57f026c2d8877e1e35d660136">initial_time</a></td></tr>
<tr class="separator:a014d2ca57f026c2d8877e1e35d660136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a282be3f8f1e1309f1dfc03acd17029"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a7a282be3f8f1e1309f1dfc03acd17029">frame_buffer_size</a></td></tr>
<tr class="memdesc:a7a282be3f8f1e1309f1dfc03acd17029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of buffered_frame array.  <a href="#a7a282be3f8f1e1309f1dfc03acd17029">More...</a><br /></td></tr>
<tr class="separator:a7a282be3f8f1e1309f1dfc03acd17029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d18bbae8a10493e0cf20854167ba54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a44d18bbae8a10493e0cf20854167ba54">compression_mq_size</a> = 0</td></tr>
<tr class="memdesc:a44d18bbae8a10493e0cf20854167ba54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of messages in compression message queue.  <a href="#a44d18bbae8a10493e0cf20854167ba54">More...</a><br /></td></tr>
<tr class="separator:a44d18bbae8a10493e0cf20854167ba54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a70872271c8daa34b4bc6e401cc8dc9"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a0a70872271c8daa34b4bc6e401cc8dc9">ppm_header</a> [<a class="el" href="capture_8c.html#a49999be01380f41cc0d0f1f1406fb277">HEADER_SIZE</a>]</td></tr>
<tr class="separator:a0a70872271c8daa34b4bc6e401cc8dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9769d3d3ba7e8920ae13e0f71e0ca6e"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ad9769d3d3ba7e8920ae13e0f71e0ca6e">filename</a> [128]</td></tr>
<tr class="memdesc:ad9769d3d3ba7e8920ae13e0f71e0ca6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array for storing file names.  <a href="#ad9769d3d3ba7e8920ae13e0f71e0ca6e">More...</a><br /></td></tr>
<tr class="separator:ad9769d3d3ba7e8920ae13e0f71e0ca6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3257a9727dcca6079f39ca6440e91482"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a3257a9727dcca6079f39ca6440e91482">extension</a> [10]</td></tr>
<tr class="memdesc:a3257a9727dcca6079f39ca6440e91482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array for storing file extension.  <a href="#a3257a9727dcca6079f39ca6440e91482">More...</a><br /></td></tr>
<tr class="separator:a3257a9727dcca6079f39ca6440e91482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4414dbc7ce0b5d6b5dc7707b9db75af1"><td class="memItemLeft" align="right" valign="top">struct utsname&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a4414dbc7ce0b5d6b5dc7707b9db75af1">unm</a></td></tr>
<tr class="separator:a4414dbc7ce0b5d6b5dc7707b9db75af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d386cb03c961eb3652d72d5afd5e27"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ae1d386cb03c961eb3652d72d5afd5e27">time_buffer</a> [32]</td></tr>
<tr class="memdesc:ae1d386cb03c961eb3652d72d5afd5e27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for storing frame timestamp as a char array.  <a href="#ae1d386cb03c961eb3652d72d5afd5e27">More...</a><br /></td></tr>
<tr class="separator:ae1d386cb03c961eb3652d72d5afd5e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad42bca86689a875e3aa419a617fa2a42"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ad42bca86689a875e3aa419a617fa2a42">temp_bytesused</a></td></tr>
<tr class="memdesc:ad42bca86689a875e3aa419a617fa2a42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporary variable for returning image pointer when saving images to file.  <a href="#ad42bca86689a875e3aa419a617fa2a42">More...</a><br /></td></tr>
<tr class="separator:ad42bca86689a875e3aa419a617fa2a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af29bfe0c00e5448ddfd386fce910e4fe"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_frame.html">Frame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#af29bfe0c00e5448ddfd386fce910e4fe">upload</a></td></tr>
<tr class="memdesc:af29bfe0c00e5448ddfd386fce910e4fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for referencing data when transmitting data via network.  <a href="#af29bfe0c00e5448ddfd386fce910e4fe">More...</a><br /></td></tr>
<tr class="separator:af29bfe0c00e5448ddfd386fce910e4fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9ce5f01c066eb6ef649c9a2b0dbf0e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a2f9ce5f01c066eb6ef649c9a2b0dbf0e">max</a></td></tr>
<tr class="separator:a2f9ce5f01c066eb6ef649c9a2b0dbf0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb6d99c885b9c788a3455dbe1670cac"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#acdb6d99c885b9c788a3455dbe1670cac">copylen</a></td></tr>
<tr class="memdesc:acdb6d99c885b9c788a3455dbe1670cac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variables used for tracking data size when transmitting data via network.  <a href="#acdb6d99c885b9c788a3455dbe1670cac">More...</a><br /></td></tr>
<tr class="separator:acdb6d99c885b9c788a3455dbe1670cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae57fec1739a37ce4f7d2e9237f65ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#aeae57fec1739a37ce4f7d2e9237f65ac">cam</a> = 0</td></tr>
<tr class="memdesc:aeae57fec1739a37ce4f7d2e9237f65ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Desired video stream device.  <a href="#aeae57fec1739a37ce4f7d2e9237f65ac">More...</a><br /></td></tr>
<tr class="separator:aeae57fec1739a37ce4f7d2e9237f65ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa23579ea5b37eed080b9bcfa8fde1a1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#aa23579ea5b37eed080b9bcfa8fde1a1d">hres</a> = 640</td></tr>
<tr class="memdesc:aa23579ea5b37eed080b9bcfa8fde1a1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Horizonal resolution.  <a href="#aa23579ea5b37eed080b9bcfa8fde1a1d">More...</a><br /></td></tr>
<tr class="separator:aa23579ea5b37eed080b9bcfa8fde1a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a149e35e811604d3eba72704a994c7f37"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a149e35e811604d3eba72704a994c7f37">vres</a> = 480</td></tr>
<tr class="memdesc:a149e35e811604d3eba72704a994c7f37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vertical resolution.  <a href="#a149e35e811604d3eba72704a994c7f37">More...</a><br /></td></tr>
<tr class="separator:a149e35e811604d3eba72704a994c7f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b67662d620a977a2cfe519f7ab6273"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a45b67662d620a977a2cfe519f7ab6273">fps</a> = 30</td></tr>
<tr class="memdesc:a45b67662d620a977a2cfe519f7ab6273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Target video capture rate.  <a href="#a45b67662d620a977a2cfe519f7ab6273">More...</a><br /></td></tr>
<tr class="separator:a45b67662d620a977a2cfe519f7ab6273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a7974c7424823f2aca49e5f92bc70b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ad2a7974c7424823f2aca49e5f92bc70b">max_frames</a> = 2000</td></tr>
<tr class="memdesc:ad2a7974c7424823f2aca49e5f92bc70b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of frames before exiting program.  <a href="#ad2a7974c7424823f2aca49e5f92bc70b">More...</a><br /></td></tr>
<tr class="separator:ad2a7974c7424823f2aca49e5f92bc70b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08963f7335eef295237ab460863bc3d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a08963f7335eef295237ab460863bc3d5">num_threads</a> = INT_MAX</td></tr>
<tr class="memdesc:a08963f7335eef295237ab460863bc3d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of threads to run.  <a href="#a08963f7335eef295237ab460863bc3d5">More...</a><br /></td></tr>
<tr class="separator:a08963f7335eef295237ab460863bc3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b2caeb4b6f130be43e5a2f0267dd453"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> = 0</td></tr>
<tr class="memdesc:a0b2caeb4b6f130be43e5a2f0267dd453"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean for printing frames captured per second to standard output.  <a href="#a0b2caeb4b6f130be43e5a2f0267dd453">More...</a><br /></td></tr>
<tr class="separator:a0b2caeb4b6f130be43e5a2f0267dd453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b62d97820e8ef4bdaf9f560b7ca073d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a4b62d97820e8ef4bdaf9f560b7ca073d">write_file</a> = 0</td></tr>
<tr class="memdesc:a4b62d97820e8ef4bdaf9f560b7ca073d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean for saving images to file.  <a href="#a4b62d97820e8ef4bdaf9f560b7ca073d">More...</a><br /></td></tr>
<tr class="separator:a4b62d97820e8ef4bdaf9f560b7ca073d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c39dd8f38d37bfb5197af63d28afb8"><td class="memItemLeft" align="right" valign="top">struct jpeg_decompress_struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a93c39dd8f38d37bfb5197af63d28afb8">cinfo</a></td></tr>
<tr class="memdesc:a93c39dd8f38d37bfb5197af63d28afb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">libjpeg decompression struct  <a href="#a93c39dd8f38d37bfb5197af63d28afb8">More...</a><br /></td></tr>
<tr class="separator:a93c39dd8f38d37bfb5197af63d28afb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45811748d45af97d5fb6cb2417563e57"><td class="memItemLeft" align="right" valign="top">struct jpeg_error_mgr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a45811748d45af97d5fb6cb2417563e57">jerr</a></td></tr>
<tr class="memdesc:a45811748d45af97d5fb6cb2417563e57"><td class="mdescLeft">&#160;</td><td class="mdescRight">libjpeg error struct  <a href="#a45811748d45af97d5fb6cb2417563e57">More...</a><br /></td></tr>
<tr class="separator:a45811748d45af97d5fb6cb2417563e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d503c8b79ed3fd00b5595c8abf30b3"><td class="memItemLeft" align="right" valign="top">struct jpeg_source_mgr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a03d503c8b79ed3fd00b5595c8abf30b3">src</a></td></tr>
<tr class="memdesc:a03d503c8b79ed3fd00b5595c8abf30b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">libjpeg source struct  <a href="#a03d503c8b79ed3fd00b5595c8abf30b3">More...</a><br /></td></tr>
<tr class="separator:a03d503c8b79ed3fd00b5595c8abf30b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a59594ba3469ec6a1d56f6631e275e0"><td class="memItemLeft" align="right" valign="top">CURL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a6a59594ba3469ec6a1d56f6631e275e0">curl</a></td></tr>
<tr class="memdesc:a6a59594ba3469ec6a1d56f6631e275e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">libcurl variable.  <a href="#a6a59594ba3469ec6a1d56f6631e275e0">More...</a><br /></td></tr>
<tr class="separator:a6a59594ba3469ec6a1d56f6631e275e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1ea240303dba3184f1f87a13202862"><td class="memItemLeft" align="right" valign="top">CURLcode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#acf1ea240303dba3184f1f87a13202862">res</a></td></tr>
<tr class="memdesc:acf1ea240303dba3184f1f87a13202862"><td class="mdescLeft">&#160;</td><td class="mdescRight">libcurl variable.  <a href="#acf1ea240303dba3184f1f87a13202862">More...</a><br /></td></tr>
<tr class="separator:acf1ea240303dba3184f1f87a13202862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd2f81985c622e2a9b96e94daf2697ff"><td class="memItemLeft" align="right" valign="top">struct pollfd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#abd2f81985c622e2a9b96e94daf2697ff">fds</a></td></tr>
<tr class="memdesc:abd2f81985c622e2a9b96e94daf2697ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">File descriptor for mapped-memory with new frames.  <a href="#abd2f81985c622e2a9b96e94daf2697ff">More...</a><br /></td></tr>
<tr class="separator:abd2f81985c622e2a9b96e94daf2697ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa8efb302f2c1a8fcb2cfbd38a54301"><td class="memItemLeft" align="right" valign="top">struct v4l2_format&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a8fa8efb302f2c1a8fcb2cfbd38a54301">fmt</a> = {0}</td></tr>
<tr class="memdesc:a8fa8efb302f2c1a8fcb2cfbd38a54301"><td class="mdescLeft">&#160;</td><td class="mdescRight">v4l2 format video stream struct.  <a href="#a8fa8efb302f2c1a8fcb2cfbd38a54301">More...</a><br /></td></tr>
<tr class="separator:a8fa8efb302f2c1a8fcb2cfbd38a54301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b4c280cece6d8acaa804d4ab7159e4"><td class="memItemLeft" align="right" valign="top">struct v4l2_requestbuffers&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a12b4c280cece6d8acaa804d4ab7159e4">req</a> = {0}</td></tr>
<tr class="memdesc:a12b4c280cece6d8acaa804d4ab7159e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">v4l2 request access to buffer struct.  <a href="#a12b4c280cece6d8acaa804d4ab7159e4">More...</a><br /></td></tr>
<tr class="separator:a12b4c280cece6d8acaa804d4ab7159e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af85e2f51048817ed48f85b28023c49"><td class="memItemLeft" align="right" valign="top">struct v4l2_buffer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a7af85e2f51048817ed48f85b28023c49">buf</a> = {0}</td></tr>
<tr class="memdesc:a7af85e2f51048817ed48f85b28023c49"><td class="mdescLeft">&#160;</td><td class="mdescRight">v4l2 buffer struct.  <a href="#a7af85e2f51048817ed48f85b28023c49">More...</a><br /></td></tr>
<tr class="separator:a7af85e2f51048817ed48f85b28023c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4718d5bc3c4e8a7a141fe23f9a88a3"><td class="memItemLeft" align="right" valign="top">sem_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a2f4718d5bc3c4e8a7a141fe23f9a88a3">camera_sem</a></td></tr>
<tr class="memdesc:a2f4718d5bc3c4e8a7a141fe23f9a88a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Semaphore to control acquire_frames thread with sequencer.  <a href="#a2f4718d5bc3c4e8a7a141fe23f9a88a3">More...</a><br /></td></tr>
<tr class="separator:a2f4718d5bc3c4e8a7a141fe23f9a88a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae808f563e2a8688d5bf640c33b55c68e"><td class="memItemLeft" align="right" valign="top">sem_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ae808f563e2a8688d5bf640c33b55c68e">embed_ppm_sem</a></td></tr>
<tr class="memdesc:ae808f563e2a8688d5bf640c33b55c68e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Semaphore to control embed_ppm thread with sequencer.  <a href="#ae808f563e2a8688d5bf640c33b55c68e">More...</a><br /></td></tr>
<tr class="separator:ae808f563e2a8688d5bf640c33b55c68e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad100b900890ea0333c46e6b03df13d68"><td class="memItemLeft" align="right" valign="top">sem_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ad100b900890ea0333c46e6b03df13d68">compression_sem</a></td></tr>
<tr class="memdesc:ad100b900890ea0333c46e6b03df13d68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Semaphore to control compression thread with sequencer.  <a href="#ad100b900890ea0333c46e6b03df13d68">More...</a><br /></td></tr>
<tr class="separator:ad100b900890ea0333c46e6b03df13d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a1dc760dc40af3f27427f6fb9adc9d"><td class="memItemLeft" align="right" valign="top">mqd_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a52a1dc760dc40af3f27427f6fb9adc9d">camera_mq</a></td></tr>
<tr class="memdesc:a52a1dc760dc40af3f27427f6fb9adc9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message queue from acquire_frames thread to embed_ppm thread.  <a href="#a52a1dc760dc40af3f27427f6fb9adc9d">More...</a><br /></td></tr>
<tr class="separator:a52a1dc760dc40af3f27427f6fb9adc9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197b1c22cb82f555e3931fecfb644595"><td class="memItemLeft" align="right" valign="top">mqd_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#a197b1c22cb82f555e3931fecfb644595">compression_mq</a></td></tr>
<tr class="memdesc:a197b1c22cb82f555e3931fecfb644595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message queue from embed_ppm thread to compression thread.  <a href="#a197b1c22cb82f555e3931fecfb644595">More...</a><br /></td></tr>
<tr class="separator:a197b1c22cb82f555e3931fecfb644595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae897fcae081fac457556f8404a4f0056"><td class="memItemLeft" align="right" valign="top">struct mq_attr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="capture_8c.html#ae897fcae081fac457556f8404a4f0056">mq_attr</a> = {0}</td></tr>
<tr class="memdesc:ae897fcae081fac457556f8404a4f0056"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message queue attributes struct.  <a href="#ae897fcae081fac457556f8404a4f0056">More...</a><br /></td></tr>
<tr class="separator:ae897fcae081fac457556f8404a4f0056"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac22294062281e189fcea62e6c038bcd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac22294062281e189fcea62e6c038bcd5">&#9670;&nbsp;</a></span>CAMERA_MQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_MQ&#160;&#160;&#160;&quot;/camera_mq&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="addf53becdaa56563ee33761cacc253c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addf53becdaa56563ee33761cacc253c7">&#9670;&nbsp;</a></span>COMPRESSION_MQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMPRESSION_MQ&#160;&#160;&#160;&quot;/compression_mq&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a78ede9854fe9cd60ed6b81cad3544aea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78ede9854fe9cd60ed6b81cad3544aea">&#9670;&nbsp;</a></span>CREDENTIALS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CREDENTIALS&#160;&#160;&#160;&quot;shane:Go0b3r@#&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a49999be01380f41cc0d0f1f1406fb277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49999be01380f41cc0d0f1f1406fb277">&#9670;&nbsp;</a></span>HEADER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HEADER_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad4d025ecf1bdbf8b244ca688df8e478d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d025ecf1bdbf8b244ca688df8e478d">&#9670;&nbsp;</a></span>MSG_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_SIZE&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4adfa3d60064f781cf2f5a271d6c8c40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4adfa3d60064f781cf2f5a271d6c8c40">&#9670;&nbsp;</a></span>NSEC_IN_SEC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NSEC_IN_SEC&#160;&#160;&#160;1000000000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad78224efe1d3fb39b67ca74ad9d9eec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78224efe1d3fb39b67ca74ad9d9eec7">&#9670;&nbsp;</a></span>STRING_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STRING_SIZE&#160;&#160;&#160;127</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a95c50d3846497846a911b85d45e3d04e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95c50d3846497846a911b85d45e3d04e">&#9670;&nbsp;</a></span>TARGET_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TARGET_ADDRESS&#160;&#160;&#160;&quot;192.168.137.2/Documents/ECEN5623/stream_mjpeg/frames/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ab16d068bb0d54defca3c290094b87ffe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab16d068bb0d54defca3c290094b87ffe">&#9670;&nbsp;</a></span>camera_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_camera_buffer.html">CameraBuffer</a>  <a class="el" href="capture_8c.html#ab16d068bb0d54defca3c290094b87ffe">camera_buffer</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores the location and length of a memory-mapped frame. </p>

</div>
</div>
<a id="abdc626bae09d8b18b8d64b4ce2378b25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc626bae09d8b18b8d64b4ce2378b25">&#9670;&nbsp;</a></span>frame_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_frame_buffer.html">FrameBuffer</a>  <a class="el" href="capture_8c.html#abdc626bae09d8b18b8d64b4ce2378b25">frame_buffer</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores all versions of an image with the time it was received. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6ecce70cf98efa515bdfa41e419c5c62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ecce70cf98efa515bdfa41e419c5c62">&#9670;&nbsp;</a></span>accept_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int accept_options </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses command line arguments and sets variables accordingly. Will print a usage statement and exit program if passed improperly formatted arguments.</p><ul>
<li>-c [integer] Device to stream video from.</li>
<li>-f [integer] Desired frame rate. Rates less than 1 Hz have not been tested.</li>
<li>-F [integer] Maximum desired frames to capture.</li>
<li>-h [integer] Horizontal resolution.</li>
<li>-t [integer] Number of threads to run.<ul>
<li>1 Capture JPEG from stream.</li>
<li>2 Convert JPEG to PPM.</li>
<li>3 Compress PPM to zlib format.</li>
</ul>
</li>
<li>-v [integer] Vertical resolution.</li>
<li>-V Print frames captured per second to standard output.</li>
<li>-w Save images. Will transfer over network and save on remote machine.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Number of tokens passed from the command line. </td></tr>
    <tr><td class="paramname">argv</td><td>Pointer to array of tokens passed from the command line. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return code for successful completion of all tasks. </dd></dl>

</div>
</div>
<a id="a618a0034ba575b16e075bb8f0a51520d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a618a0034ba575b16e075bb8f0a51520d">&#9670;&nbsp;</a></span>acquire_frames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* acquire_frames </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>Calculates the difference between the camera and computer times to accurately embed the computer time into each PPM header.</li>
<li>Captures frames from the desired video stream and saves them to buffered_frames in JPEG format at a maximum rate of the desired frame rate.</li>
<li>If the user desired verbosity, then the frames captured per second will be printed to standard output.</li>
<li>The rate of iteration is controlled by the sequencer thread via camera_sem (semaphore).</li>
<li>If only 1 thread is running and save images is requested, then this function will save the images in JPEG format on a remote machine.</li>
<li>If at least 2 threads are running, then the pointers to the saved frames are passed via message queue to be converted to PPM format.</li>
<li>When the total desired frames is reached, the function will exit.</li>
<li>If the message queue is full, a pointer will be popped and the last pointer will be pushed, and this function will exit.</li>
<li>Upon exiting, the last pointer will be pushed to the message queue with a code to the next thread to exit.</li>
</ul>

</div>
</div>
<a id="a1e4476e9b27322e8b7942f5da02dce61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4476e9b27322e8b7942f5da02dce61">&#9670;&nbsp;</a></span>compress_frames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* compress_frames </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>Iterates at a frequency set my the sequencer.</li>
<li>If a pointer to a frame is in the incoming message queue, then pop the message queue.</li>
<li>Compressed the PPM into zlib format.</li>
<li>If a message to exit is popped from the incoming message queue, this function will process the image as normal and exit.</li>
</ul>

</div>
</div>
<a id="a019a617c77711197565c38498c73e035"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a019a617c77711197565c38498c73e035">&#9670;&nbsp;</a></span>create_threads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_threads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize and start all desired threads, then wait for threads to exit. </p>

</div>
</div>
<a id="afe391888422795a03d5b3e115d27c557"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe391888422795a03d5b3e115d27c557">&#9670;&nbsp;</a></span>embed_ppm_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* embed_ppm_data </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>Iterates at a frequency set my the sequencer.</li>
<li>If a pointer to a frame is in the incoming message queue, then pop the message queue.</li>
<li>Decodes the JPEG into a PPM image.</li>
<li>Embeds the image's timestamp and the system's information into the PPM header.</li>
<li>If 2 threads are running and save images is requested, then this function will save the images in PPM format on a remote machine.</li>
<li>If 3 threads are running, then the pointers to the saved frames are passed via the outgoing message queue to be compressed to a zlib format.</li>
<li>If a message to exit is popped from the incoming message queue, this function will process the image as normal and exit.</li>
<li>If the message queue is full, a pointer will be popped and the last pointer will be pushed, and this function will exit.</li>
<li>Upon exiting, the last pointer will be pushed to the outgoing message queue with a code to the next thread to exit.</li>
</ul>

</div>
</div>
<a id="ab51ed05532bf584305de989c51a574af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab51ed05532bf584305de989c51a574af">&#9670;&nbsp;</a></span>embed_ppm_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* embed_ppm_header </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert image from RGB to PPM. Appends image's timestamp and the system's information to the header of the PPM image. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Index to buffered_frame contianing image to be converted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeefb57de25092bb60f9ccabaf9372241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeefb57de25092bb60f9ccabaf9372241">&#9670;&nbsp;</a></span>emit_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emit_message </td>
          <td>(</td>
          <td class="paramtype">j_common_ptr&#160;</td>
          <td class="paramname"><em>cinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msg_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1e7dac8e97284ad57746880a222c5caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e7dac8e97284ad57746880a222c5caf">&#9670;&nbsp;</a></span>fill_input_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean fill_input_buffer </td>
          <td>(</td>
          <td class="paramtype">j_decompress_ptr&#160;</td>
          <td class="paramname"><em>cinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad67893ff65f0ce0e0c3d247318e68aa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad67893ff65f0ce0e0c3d247318e68aa6">&#9670;&nbsp;</a></span>finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release all global objects and variables.</p><ul>
<li>Close and destroy message queues.</li>
<li>Destroy the semaphores.</li>
<li>Command device to stop streaming.</li>
<li>Unset all memory-mapped buffers.</li>
<li>Destory libcurl objects.</li>
<li>Free memory for buffered_frame.</li>
<li>Free memory for buffered_camera.</li>
</ul>

</div>
</div>
<a id="a0e1ba0bf7926a862b54d8badf3ee5fe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e1ba0bf7926a862b54d8badf3ee5fe3">&#9670;&nbsp;</a></span>init_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_source </td>
          <td>(</td>
          <td class="paramtype">j_decompress_ptr&#160;</td>
          <td class="paramname"><em>cinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a03aede8ff91764482bb5e9accfae9b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03aede8ff91764482bb5e9accfae9b4f">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize all global objects and variables.</p><ul>
<li>Gather system information for embedding in PPM images.</li>
<li>Open streaming device.</li>
<li>Setup video capture format</li>
<li>Setup memory-mapped buffer requirements.</li>
<li>Initialize frame_buffer_size. Size is determined by number of threads and desired frame rate.</li>
<li>Allocate memory for buffered_camera for pointers to memory-mapped frames.</li>
<li>Allocate memory for buffered_frame to store images.</li>
<li>Setup libcurl to transfer images over network.</li>
<li>Initialize file extension depending on number of threads.</li>
<li>Setup memory-mapped buffer and map buffered_camera to memory.</li>
<li>Queue all mapped memory to accept new frames.</li>
<li>Command device to begin streaming.</li>
<li>Process a single frame and store actual frame resolution.</li>
<li>Print camera properties to standard output.</li>
<li>Initialize semaphores for sequencer control over threads.</li>
<li>Initalize message queues for passing frame pointers between threads.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Return code for successful completion of all tasks. </dd></dl>

</div>
</div>
<a id="a5f28327c3bd4a61eb3959865eb68317c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f28327c3bd4a61eb3959865eb68317c">&#9670;&nbsp;</a></span>long_long_to_timespec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* long_long_to_timespec </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>nanoseconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts nanoseconds as a long long to a timespec structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Pointer to a timespec. </td></tr>
    <tr><td class="paramname">nanoseconds</td><td><a class="el" href="struct_time.html">Time</a> in nanoseconds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call <a class="el" href="capture_8c.html#a6ecce70cf98efa515bdfa41e419c5c62">accept_options()</a>, <a class="el" href="capture_8c.html#a03aede8ff91764482bb5e9accfae9b4f">initialize()</a>, <a class="el" href="capture_8c.html#a019a617c77711197565c38498c73e035">create_threads()</a>, <a class="el" href="capture_8c.html#ad67893ff65f0ce0e0c3d247318e68aa6">finish()</a>, then exit. If either <a class="el" href="capture_8c.html#a6ecce70cf98efa515bdfa41e419c5c62">accept_options()</a> or <a class="el" href="capture_8c.html#a03aede8ff91764482bb5e9accfae9b4f">initialize()</a> return -1, then exit. </p>

</div>
</div>
<a id="a442c1e1a90daa0618ee1c803ef3c60ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a442c1e1a90daa0618ee1c803ef3c60ce">&#9670;&nbsp;</a></span>save_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* save_image </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setup libcurl to transfer an image to a remote machine. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Index in buffered_frame containing image to be transferred. </td></tr>
    <tr><td class="paramname">frame</td><td><a class="el" href="struct_frame.html">Frame</a> number to uniquely identify the image. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ade93a5e49f52392c02bbba1765257412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade93a5e49f52392c02bbba1765257412">&#9670;&nbsp;</a></span>sequencer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* sequencer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Control iteration rates of other threads through use of semaphores. Sequencer iterates at twice the desired frame rate. Camera iterates at the same rate, embed_ppm ppm iterates at 1/4 the rate, and compression iterates at 1/8 the rate. Between iteration, sequencer sleeps. Values were determined through estimating average case execution times and following rate-monotonic policy. Average cases were used rather than worst cases because this is a soft real-time system and worst cases were too long to achieve 1 Hz frequency on resource restricted hardware. Harmonic values were selected to maximize CPU usage. </p>

</div>
</div>
<a id="a173e37c81dff86846622bbba3832c4dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a173e37c81dff86846622bbba3832c4dd">&#9670;&nbsp;</a></span>skip_input_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void skip_input_data </td>
          <td>(</td>
          <td class="paramtype">j_decompress_ptr&#160;</td>
          <td class="paramname"><em>cinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aded7efcd42714e07121345ae6a261b76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded7efcd42714e07121345ae6a261b76">&#9670;&nbsp;</a></span>term_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void term_source </td>
          <td>(</td>
          <td class="paramtype">j_decompress_ptr&#160;</td>
          <td class="paramname"><em>cinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a41bba785d34bc81a7ad6aeecd94b8bb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41bba785d34bc81a7ad6aeecd94b8bb0">&#9670;&nbsp;</a></span>time_diff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* time_diff </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>stop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>diff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates difference is two timespec structures and stores the difference into a third timspec structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>Pointer to the earlier timespec. </td></tr>
    <tr><td class="paramname">stop</td><td>Pointer to the later timespec. </td></tr>
    <tr><td class="paramname">diff</td><td>Pointer to the timespec the difference will be saved to. Can be the same as one of the other passed pointers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a52a35ba6ce40b8eb379e2b735a3d0379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52a35ba6ce40b8eb379e2b735a3d0379">&#9670;&nbsp;</a></span>timespec_to_long_long()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long timespec_to_long_long </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts a timespec structure to nanoseconds as a long long. Long long is necessary for architecures with 4 byte longs. A variable with a deterministic number of bytes would be preferable. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Pointer to a timespec. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the nanoseconds as a long long. </dd></dl>

</div>
</div>
<a id="a46ce4843c5fd76c3415c5b8640f5b97a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46ce4843c5fd76c3415c5b8640f5b97a">&#9670;&nbsp;</a></span>timeval_to_long_long()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long timeval_to_long_long </td>
          <td>(</td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts a timeval structure to nanoseconds as a long long. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Pointer to a timeval. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the nanoseconds as a long long. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7af85e2f51048817ed48f85b28023c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7af85e2f51048817ed48f85b28023c49">&#9670;&nbsp;</a></span>buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct v4l2_buffer buf = {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>v4l2 buffer struct. </p>

</div>
</div>
<a id="a167e25be68dd153043338fea9682c8c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a167e25be68dd153043338fea9682c8c7">&#9670;&nbsp;</a></span>buffered_camera</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="capture_8c.html#ab16d068bb0d54defca3c290094b87ffe">camera_buffer</a>* buffered_camera</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acf2a42a2574cf156950eb20aa57d3f89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf2a42a2574cf156950eb20aa57d3f89">&#9670;&nbsp;</a></span>buffered_frame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="capture_8c.html#abdc626bae09d8b18b8d64b4ce2378b25">frame_buffer</a>* buffered_frame</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeae57fec1739a37ce4f7d2e9237f65ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae57fec1739a37ce4f7d2e9237f65ac">&#9670;&nbsp;</a></span>cam</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cam = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Desired video stream device. </p>

</div>
</div>
<a id="a52a1dc760dc40af3f27427f6fb9adc9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52a1dc760dc40af3f27427f6fb9adc9d">&#9670;&nbsp;</a></span>camera_mq</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mqd_t camera_mq</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message queue from acquire_frames thread to embed_ppm thread. </p>

</div>
</div>
<a id="a2f4718d5bc3c4e8a7a141fe23f9a88a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f4718d5bc3c4e8a7a141fe23f9a88a3">&#9670;&nbsp;</a></span>camera_sem</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sem_t camera_sem</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Semaphore to control acquire_frames thread with sequencer. </p>

</div>
</div>
<a id="a93c39dd8f38d37bfb5197af63d28afb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c39dd8f38d37bfb5197af63d28afb8">&#9670;&nbsp;</a></span>cinfo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct jpeg_decompress_struct cinfo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>libjpeg decompression struct </p>

</div>
</div>
<a id="a197b1c22cb82f555e3931fecfb644595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a197b1c22cb82f555e3931fecfb644595">&#9670;&nbsp;</a></span>compression_mq</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mqd_t compression_mq</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message queue from embed_ppm thread to compression thread. </p>

</div>
</div>
<a id="a44d18bbae8a10493e0cf20854167ba54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44d18bbae8a10493e0cf20854167ba54">&#9670;&nbsp;</a></span>compression_mq_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compression_mq_size = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of messages in compression message queue. </p>

</div>
</div>
<a id="ad100b900890ea0333c46e6b03df13d68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad100b900890ea0333c46e6b03df13d68">&#9670;&nbsp;</a></span>compression_sem</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sem_t compression_sem</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Semaphore to control compression thread with sequencer. </p>

</div>
</div>
<a id="acdb6d99c885b9c788a3455dbe1670cac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdb6d99c885b9c788a3455dbe1670cac">&#9670;&nbsp;</a></span>copylen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t copylen</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variables used for tracking data size when transmitting data via network. </p>

</div>
</div>
<a id="a6a59594ba3469ec6a1d56f6631e275e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a59594ba3469ec6a1d56f6631e275e0">&#9670;&nbsp;</a></span>curl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CURL* curl</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>libcurl variable. </p>

</div>
</div>
<a id="ae808f563e2a8688d5bf640c33b55c68e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae808f563e2a8688d5bf640c33b55c68e">&#9670;&nbsp;</a></span>embed_ppm_sem</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sem_t embed_ppm_sem</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Semaphore to control embed_ppm thread with sequencer. </p>

</div>
</div>
<a id="a3257a9727dcca6079f39ca6440e91482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3257a9727dcca6079f39ca6440e91482">&#9670;&nbsp;</a></span>extension</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char extension[10]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array for storing file extension. </p>

</div>
</div>
<a id="abd2f81985c622e2a9b96e94daf2697ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd2f81985c622e2a9b96e94daf2697ff">&#9670;&nbsp;</a></span>fds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct pollfd fds</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>File descriptor for mapped-memory with new frames. </p>

</div>
</div>
<a id="ad9769d3d3ba7e8920ae13e0f71e0ca6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9769d3d3ba7e8920ae13e0f71e0ca6e">&#9670;&nbsp;</a></span>filename</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char filename[128]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array for storing file names. </p>

</div>
</div>
<a id="a8fa8efb302f2c1a8fcb2cfbd38a54301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fa8efb302f2c1a8fcb2cfbd38a54301">&#9670;&nbsp;</a></span>fmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct v4l2_format fmt = {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>v4l2 format video stream struct. </p>

</div>
</div>
<a id="a45b67662d620a977a2cfe519f7ab6273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b67662d620a977a2cfe519f7ab6273">&#9670;&nbsp;</a></span>fps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fps = 30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Target video capture rate. </p>

</div>
</div>
<a id="a7a282be3f8f1e1309f1dfc03acd17029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a282be3f8f1e1309f1dfc03acd17029">&#9670;&nbsp;</a></span>frame_buffer_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int frame_buffer_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of buffered_frame array. </p>

</div>
</div>
<a id="aa23579ea5b37eed080b9bcfa8fde1a1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa23579ea5b37eed080b9bcfa8fde1a1d">&#9670;&nbsp;</a></span>hres</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hres = 640</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Horizonal resolution. </p>

</div>
</div>
<a id="a014d2ca57f026c2d8877e1e35d660136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a014d2ca57f026c2d8877e1e35d660136">&#9670;&nbsp;</a></span>initial_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_time.html">Time</a>  initial_time</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a45811748d45af97d5fb6cb2417563e57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45811748d45af97d5fb6cb2417563e57">&#9670;&nbsp;</a></span>jerr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct jpeg_error_mgr jerr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>libjpeg error struct </p>

</div>
</div>
<a id="a2f9ce5f01c066eb6ef649c9a2b0dbf0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f9ce5f01c066eb6ef649c9a2b0dbf0e">&#9670;&nbsp;</a></span>max</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t max</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad2a7974c7424823f2aca49e5f92bc70b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a7974c7424823f2aca49e5f92bc70b">&#9670;&nbsp;</a></span>max_frames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int max_frames = 2000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of frames before exiting program. </p>

</div>
</div>
<a id="ae897fcae081fac457556f8404a4f0056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae897fcae081fac457556f8404a4f0056">&#9670;&nbsp;</a></span>mq_attr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mq_attr mq_attr = {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message queue attributes struct. </p>

</div>
</div>
<a id="a08963f7335eef295237ab460863bc3d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08963f7335eef295237ab460863bc3d5">&#9670;&nbsp;</a></span>num_threads</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int num_threads = INT_MAX</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of threads to run. </p>

</div>
</div>
<a id="a0a70872271c8daa34b4bc6e401cc8dc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a70872271c8daa34b4bc6e401cc8dc9">&#9670;&nbsp;</a></span>ppm_header</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char ppm_header[<a class="el" href="capture_8c.html#a49999be01380f41cc0d0f1f1406fb277">HEADER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a12b4c280cece6d8acaa804d4ab7159e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12b4c280cece6d8acaa804d4ab7159e4">&#9670;&nbsp;</a></span>req</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct v4l2_requestbuffers req = {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>v4l2 request access to buffer struct. </p>

</div>
</div>
<a id="acf1ea240303dba3184f1f87a13202862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf1ea240303dba3184f1f87a13202862">&#9670;&nbsp;</a></span>res</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CURLcode res</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>libcurl variable. </p>

</div>
</div>
<a id="a03d503c8b79ed3fd00b5595c8abf30b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03d503c8b79ed3fd00b5595c8abf30b3">&#9670;&nbsp;</a></span>src</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct jpeg_source_mgr src</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>libjpeg source struct </p>

</div>
</div>
<a id="ad42bca86689a875e3aa419a617fa2a42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad42bca86689a875e3aa419a617fa2a42">&#9670;&nbsp;</a></span>temp_bytesused</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t temp_bytesused</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Temporary variable for returning image pointer when saving images to file. </p>

</div>
</div>
<a id="ae1d386cb03c961eb3652d72d5afd5e27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1d386cb03c961eb3652d72d5afd5e27">&#9670;&nbsp;</a></span>time_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char time_buffer[32]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer for storing frame timestamp as a char array. </p>

</div>
</div>
<a id="a4414dbc7ce0b5d6b5dc7707b9db75af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4414dbc7ce0b5d6b5dc7707b9db75af1">&#9670;&nbsp;</a></span>unm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct utsname unm</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af29bfe0c00e5448ddfd386fce910e4fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af29bfe0c00e5448ddfd386fce910e4fe">&#9670;&nbsp;</a></span>upload</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_frame.html">Frame</a>* upload</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Struct for referencing data when transmitting data via network. </p>

</div>
</div>
<a id="a0b2caeb4b6f130be43e5a2f0267dd453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b2caeb4b6f130be43e5a2f0267dd453">&#9670;&nbsp;</a></span>verbose</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int verbose = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Boolean for printing frames captured per second to standard output. </p>

</div>
</div>
<a id="a149e35e811604d3eba72704a994c7f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a149e35e811604d3eba72704a994c7f37">&#9670;&nbsp;</a></span>vres</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vres = 480</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vertical resolution. </p>

</div>
</div>
<a id="a4b62d97820e8ef4bdaf9f560b7ca073d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b62d97820e8ef4bdaf9f560b7ca073d">&#9670;&nbsp;</a></span>write_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_file = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Boolean for saving images to file. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
